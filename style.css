:root{
  --radius:14px;
  --shadow:0 6px 16px rgba(0,0,0,0.3);
}

body{
  font-family:-apple-system,BlinkMacSystemFont,"Hiragino Sans","Noto Sans JP",sans-serif;
  color:#fff;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  background-size:400% 400%;
  animation:gradientShift 15s ease infinite;
  margin:0; padding:20px;
  display:flex; flex-direction:column; align-items:center;
  min-height:100vh;
}

h1{
  text-align:center; font-size:1.9em; margin:20px 0 10px; font-weight:700;
  color:#ffd54f; text-shadow:0 2px 6px rgba(0,0,0,0.6);
}

/* form blocks */
.question,.option-group{
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.2);
  border-radius:12px; padding:14px; margin:12px 0; box-shadow:var(--shadow);
}
label{margin-right:12px; display:inline-block;}
input[type="radio"],input[type="checkbox"],input[type="number"]{accent-color:#ffb300}

/* buttons */
button{
  display:block; width:100%; padding:14px; border:none; border-radius:12px;
  font-size:1.1em; font-weight:bold; cursor:pointer; color:#fff;
  background:linear-gradient(90deg,#ffd54f,#ff7043,#e53935);
  background-size:300% 300%; animation:gradientFlow 8s ease infinite;
  box-shadow:0 6px 16px rgba(0,0,0,0.4); transition:transform .2s ease;
}
button:hover{transform:scale(1.03)}

.result{display:none; text-align:center}
img{width:100%; max-width:320px; border-radius:10px}
.desc{margin-top:10px; font-size:.95em; line-height:1.6}

/* intake grid */
#intakeInput{max-width:560px; width:100%; margin-top:20px}
.drinkRow{
  display:grid; grid-template-columns:minmax(160px,1fr) 60px 40px;
  align-items:center; gap:6px; margin:10px 0;
}
.drinkRow input[type=number]{
  width:100%; height:34px; text-align:center; border-radius:8px;
  border:1px solid rgba(0,0,0,.15); background:rgba(255,255,255,.9); color:#111;
}
.drinkRow .label{white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.drinkRow .unit{text-align:left; opacity:.9; font-weight:600; padding-left:10px}

@media (max-width:480px){
  body{padding:10px}
  h1{font-size:1.5em}
  .drinkRow{grid-template-columns:minmax(120px,1fr) 50px 40px; gap:4px}
  .drinkRow .unit{padding-left:14px; font-size:.9em}
}

/* result box */
.result-box{
  background:linear-gradient(135deg,#111,#000);
  color:#fff; border-radius:14px; padding:18px 20px;
  box-shadow:0 8px 20px rgba(0,0,0,0.4); margin:20px auto; max-width:500px;
}
.result h2{
  font-size:1.8em; margin-top:20px; margin-bottom:12px; text-align:center;
  text-shadow:0 2px 6px rgba(0,0,0,0.6);
}

/* modal */
.modal{
  display:none; position:fixed; inset:0; z-index:50;
  background:rgba(0,0,0,0.6); backdrop-filter:blur(6px);
  justify-content:center; align-items:flex-start; overflow-y:auto; padding:40px 16px;
}
.modal-content{
  background:rgba(10,10,10,0.9);
  border-radius:16px; width:min(700px,94vw); box-shadow:0 10px 30px rgba(0,0,0,.6);
}
.modal-header{
  position:sticky; top:0; z-index:1;
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 18px;
  background:linear-gradient(180deg,rgba(0,0,0,.85),rgba(0,0,0,.4));
  border-top-left-radius:16px; border-top-right-radius:16px;
  border-bottom:1px solid rgba(255,255,255,.08);
}
.modal-header h3{margin:0; font-size:1.1em}
.close-btn{
  background:transparent; border:none; color:#fff; font-size:1.6em; line-height:1;
  width:36px; height:36px; border-radius:8px; cursor:pointer;
}
.close-btn:hover{background:rgba(255,255,255,.08)}
.modal-body{padding:12px 18px 20px}

/* luxury type cards */
.type-card{
  margin:14px auto; padding:14px 16px; border-radius:14px;
  background:
    radial-gradient(120% 100% at 10% 0%, rgba(255,255,255,.18), rgba(255,255,255,0) 60%),
    linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.12);
  box-shadow:
    0 10px 30px rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.08);
  backdrop-filter: blur(6px);
  text-align:left;
}
.type-card h4{
  text-align:center; font-size:1.1em; color:#ffd54f; margin:10px 0 6px;
  text-shadow:0 1px 3px rgba(0,0,0,.5);
}
.type-card ul{list-style:none; padding:0; margin:8px 0 0; line-height:1.6; font-size:.95em}
.type-card ul li b{color:#ffb300}
.type-img{display:block; width:100%; max-width:260px; margin:0 auto 10px; border-radius:10px}
/* ===== ラグジュアリー背景のタイプカード ===== */
.type-card {
  color:#fff;
  border-radius:16px;
  padding:16px 18px;
  margin:18px auto;
  box-shadow:0 6px 20px rgba(0,0,0,0.5);
  text-align:left;
  border:1px solid rgba(255,255,255,0.15);
  position:relative;
  overflow:hidden;
}
.type-card::before {
  content:"";
  position:absolute;
  inset:0;
  opacity:0.25;
  background:radial-gradient(circle at top left,rgba(255,255,255,0.6),transparent 60%);
  pointer-events:none;
}
.type-card h4 {
  text-align:center;
  font-size:1.1em;
  font-weight:700;
  margin:12px 0 8px;
  text-shadow:0 1px 3px rgba(0,0,0,0.5);
}

/* 各タイプ別の背景テーマ */
.type-card:nth-of-type(1) { background:linear-gradient(135deg,#7a2e00,#ff6a00,#ffb347); }
.type-card:nth-of-type(2) {　background:linear-gradient(135deg,#8b4a12,#d88c3a,#ffcc80);color:#222;text-shadow:none;}
.type-card:nth-of-type(3) { background:linear-gradient(135deg,#1c313a,#304ffe,#81d4fa); }
.type-card:nth-of-type(4) { background:linear-gradient(135deg,#003300,#1b5e20,#66bb6a); }

/* 縁に光沢ライン */
.type-card::after {
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  border:1px solid rgba(255,255,255,0.25);
  box-shadow:inset 0 0 15px rgba(255,255,255,0.15);
  pointer-events:none;
}

/* “タイプ別特徴を見る” ボタン */
.info-btn{
  margin:24px auto 0; width:90%; max-width:320px;
  background:linear-gradient(90deg,#ffb300,#ff7043);
  border:none; border-radius:10px; color:#fff; padding:14px; font-weight:bold;
  box-shadow:0 6px 14px rgba(0,0,0,.4); transition:transform .2s, box-shadow .2s;
}
.info-btn:hover{transform:scale(1.05); box-shadow:0 8px 18px rgba(0,0,0,.5)}

/* animations */
.fade-in{opacity:0; transform:translateY(8px); animation:fadeUp 1.2s ease forwards}
@keyframes fadeUp{to{opacity:1; transform:translateY(0)}}
/* === 表示が消える現象対策（特にFast-Emoで起こる） === */
#intakeInput {
  position: relative;
  z-index: 10;              /* 最前面に */
  opacity: 0.85;            /* 初期状態からやや見える */
  animation: fadeUp 1s ease forwards;
}
@keyframes gradientShift{
  0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%}
}
@keyframes gradientFlow{
  0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%}
}
