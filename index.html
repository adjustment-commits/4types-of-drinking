<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ALTI飲酒タイプ診断</title>

<!-- ▼ PWA設定 -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0f2027">
<link rel="apple-touch-icon" href="icons-192.png">

<!-- ▼ スタイル -->
<link rel="stylesheet" href="style.css">
</head>

<body>
<h1>ALTI飲酒タイプ診断</h1>

<!-- ===================== 質問フォーム ===================== -->
<div id="quiz">
  <form id="altiForm">
    <div class="question"><p>1. お酒を飲んで10分以内に顔が赤くなることがある。</p>
      <label><input type="radio" name="q1" value="slow"> はい</label>
      <label><input type="radio" name="q1" value="fast"> いいえ</label></div>

    <div class="question"><p>2. ビール1杯でも動悸や息苦しさを感じることがある。</p>
      <label><input type="radio" name="q2" value="slow"> はい</label>
      <label><input type="radio" name="q2" value="fast"> いいえ</label></div>

    <div class="question"><p>3. 少量でも体が熱くなり、手足がほてる。</p>
      <label><input type="radio" name="q3" value="slow"> はい</label>
      <label><input type="radio" name="q3" value="fast"> いいえ</label></div>

    <div class="question"><p>4. 翌朝、頭痛や倦怠感が残ることが多い。</p>
      <label><input type="radio" name="q4" value="slow"> はい</label>
      <label><input type="radio" name="q4" value="fast"> いいえ</label></div>

    <div class="question"><p>5. お酒を飲んだ夜は眠りが浅くなりやすい。</p>
      <label><input type="radio" name="q5" value="slow"> はい</label>
      <label><input type="radio" name="q5" value="fast"> いいえ</label></div>

    <div class="question"><p>6. お酒を飲んだ翌日、集中力が落ちる。</p>
      <label><input type="radio" name="q6" value="slow"> はい</label>
      <label><input type="radio" name="q6" value="fast"> いいえ</label></div>

    <div class="question"><p>7. 周りのテンションに引っ張られやすい。</p>
      <label><input type="radio" name="q7" value="emo"> はい</label>
      <label><input type="radio" name="q7" value="cool"> いいえ</label></div>

    <div class="question"><p>8. 断るよりも「少しだけ飲もう」と思ってしまう。</p>
      <label><input type="radio" name="q8" value="emo"> はい</label>
      <label><input type="radio" name="q8" value="cool"> いいえ</label></div>

    <div class="question"><p>9. 飲み会では静かよりも盛り上がっていたい。</p>
      <label><input type="radio" name="q9" value="emo"> はい</label>
      <label><input type="radio" name="q9" value="cool"> いいえ</label></div>

    <div class="question"><p>10. お酒を飲むと気分が高揚しやすい。</p>
      <label><input type="radio" name="q10" value="emo"> はい</label>
      <label><input type="radio" name="q10" value="cool"> いいえ</label></div>

    <!-- 🔹 体調と飲み会モード -->
    <div class="option-group">
      <p>🔋 体調を選択：</p>
      <label><input type="radio" name="condition" value="1.2"> 絶好調</label>
      <label><input type="radio" name="condition" value="1.0" checked> 普通</label>
      <label><input type="radio" name="condition" value="0.8"> 疲労気味</label>

      <p style="margin-top:10px;">🎉 飲み会モード：</p>
      <label><input type="checkbox" id="partyMode"> ONにする</label>
    </div>

    <button type="button" onclick="showResult()">診断する</button>
  </form>
</div>

<!-- 🔹 結果表示 -->
<div class="result" id="result">
  <h2 id="typeName"></h2>
  <img id="typeImg" src="" alt="診断結果画像">

  <div class="result-box">
    <p class="desc" id="typeDesc"></p>
    <p id="doseResult" class="desc"></p>
  </div>

  <div id="intakeInput" class="fade-in">
    <h3>🍶 飲む予定を入力</h3>
    <div class="drinkRow"><span class="label">🍺 ビール（20g/本）</span><input type="number" id="beer" min="0" step="1" value="0"><span class="unit">本</span></div>
    <div class="drinkRow"><span class="label">🍹 酎ハイ（20g/缶）</span><input type="number" id="chu" min="0" step="1" value="0"><span class="unit">缶</span></div>
    <div class="drinkRow"><span class="label">🥃 ハイボール（20g/杯）</span><input type="number" id="high" min="0" step="1" value="0"><span class="unit">杯</span></div>
    <div class="drinkRow"><span class="label">🍶 日本酒（22g/合）</span><input type="number" id="sake" min="0" step="1" value="0"><span class="unit">合</span></div>
    <div class="drinkRow"><span class="label">🟤 ウイスキー（19g/杯）</span><input type="number" id="whisky" min="0" step="1" value="0"><span class="unit">杯</span></div>
    <button type="button" onclick="calcTotalIntake()">合計で判定する</button>
    <p id="intakeResult" class="desc"></p>
    <p id="advice" class="desc" style="font-style:italic;"></p>
  </div>

  <p class="desc" style="font-size:0.8em;color:#ccc;">
    ※ この診断はあくまで一般的な目安です。<br>
    健康状態や個人差により安全量は異なります。<br>
    無理のない範囲で、楽しくスマートに飲みましょう。
  </p>

  <button onclick="restart()">もう一度診断する</button>
</div>

<!-- ===== モーダル ===== -->
<div id="typeModal" class="modal">
  <div class="modal-content">
    <button class="close-btn" id="closeModal">×</button>
    <h3 style="text-align:center;">🧠 タイプ別特徴</h3>

    <div id="typeCards">
      <div class="type-card">
        <img src="image/slow-emo.png" class="type-img">
        <h4>🔥Slow-Emo（感情ジェット型）</h4>
        <ul>
          <li><b>SAFE：</b>笑顔でグラスを掲げる</li>
          <li><b>WARN：</b>顔が赤く少しテンション高め</li>
          <li><b>DANGER：</b>顔真っ赤＋氷水で冷静になろうとする</li>
        </ul>
      </div>

      <div class="type-card">
        <img src="image/fast-emo.png" class="type-img">
        <h4>⚡Fast-Emo（社交ターボ型）</h4>
        <ul>
          <li><b>SAFE：</b>ノリよく乾杯</li>
          <li><b>WARN：</b>少し酔い気味でピース</li>
          <li><b>DANGER：</b>グラグラ＋友人に止められる</li>
        </ul>
      </div>

      <div class="type-card">
        <img src="image/fast-cool.png" class="type-img">
        <h4>❄️Fast-Cool（理性スプリント型）</h4>
        <ul>
          <li><b>SAFE：</b>クールに軽く一杯</li>
          <li><b>WARN：</b>顔が赤く理性を保つ</li>
          <li><b>DANGER：</b>手で「今日はここまで」サイン</li>
        </ul>
      </div>

      <div class="type-card">
        <img src="image/slow-cool.png" class="type-img">
        <h4>🌿Slow-Cool（慎重ハイブリッド型）</h4>
        <ul>
          <li><b>SAFE：</b>落ち着いて談笑</li>
          <li><b>WARN：</b>少し眠そうにゆったり</li>
          <li><b>DANGER：</b>ウトウト＋笑顔</li>
        </ul>
      </div>
    </div>
  </div>
</div>
<!-- ボタン -->
<button id="toggleTypeCards" class="info-btn">タイプ別特徴を見る</button>

<script src="main.js"></script>
</body>
</html>
