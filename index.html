<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ALTIé£²é…’ã‚¿ã‚¤ãƒ—è¨ºæ–­ Ver.3.5 æ„Ÿæƒ…AIç‰ˆ</title>
<style>
  :root {--ink:#222; --radius:12px; --shadow:0 2px 6px rgba(0,0,0,0.15);}
  body {
    font-family:-apple-system, BlinkMacSystemFont,"Hiragino Sans","Noto Sans JP",sans-serif;
    color:var(--ink); background:#fafafa;
    margin:0; padding:20px; max-width:640px; margin:auto;
    transition:background 1s ease-in-out;
  }
  h1{text-align:center;font-size:1.6em;margin:10px 0 20px;}
  .question{margin:18px 0;}
  button{
    display:block;width:100%;padding:12px;margin:15px 0;
    border:none;border-radius:var(--radius);font-size:1em;
    background:#e53935;color:#fff;box-shadow:var(--shadow);
  }
  .result{text-align:center;display:none;}
  img{width:100%;max-width:320px;border-radius:10px;}
  .desc{margin-top:10px;font-size:0.95em;line-height:1.6;}
  .stand-quote{margin-top:15px;font-style:italic;font-weight:500;color:#fff;text-shadow:0 1px 4px rgba(0,0,0,0.6);}
  ul{list-style:none;padding:0;margin-top:10px;}ul li{margin:3px 0;}
  #intakeInput{margin-top:20px;background:rgba(255,255,255,0.6);padding:10px;border-radius:10px;}
  select,input{margin:5px;}
  .fade-in{opacity:0;transform:translateY(8px);animation:fadeUp 1.2s ease forwards;}
  @keyframes fadeUp{to{opacity:1;transform:translateY(0);}}
</style>
</head>
<body>

<h1>ALTIé£²é…’ã‚¿ã‚¤ãƒ—è¨ºæ–­</h1>

<div id="quiz">
  <form id="altiForm">
    <!-- 10å• -->
    <div class="question"><p>1. ãŠé…’ã‚’é£²ã‚“ã§10åˆ†ä»¥å†…ã«é¡”ãŒèµ¤ããªã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚</p>
      <label><input type="radio" name="q1" value="slow"> ã¯ã„</label>
      <label><input type="radio" name="q1" value="fast"> ã„ã„ãˆ</label></div>
    <div class="question"><p>2. ãƒ“ãƒ¼ãƒ«1æ¯ã§ã‚‚å‹•æ‚¸ã‚„æ¯è‹¦ã—ã•ã‚’æ„Ÿã˜ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚</p>
      <label><input type="radio" name="q2" value="slow"> ã¯ã„</label>
      <label><input type="radio" name="q2" value="fast"> ã„ã„ãˆ</label></div>
    <div class="question"><p>3. å°‘é‡ã§ã‚‚ä½“ãŒç†±ããªã‚Šã€æ‰‹è¶³ãŒã»ã¦ã‚‹ã€‚</p>
      <label><input type="radio" name="q3" value="slow"> ã¯ã„</label>
      <label><input type="radio" name="q3" value="fast"> ã„ã„ãˆ</label></div>
    <div class="question"><p>4. ç¿Œæœã€é ­ç—›ã‚„å€¦æ€ æ„ŸãŒæ®‹ã‚‹ã“ã¨ãŒå¤šã„ã€‚</p>
      <label><input type="radio" name="q4" value="slow"> ã¯ã„</label>
      <label><input type="radio" name="q4" value="fast"> ã„ã„ãˆ</label></div>
    <div class="question"><p>5. ãŠé…’ã‚’é£²ã‚“ã å¤œã¯çœ ã‚ŠãŒæµ…ããªã‚Šã‚„ã™ã„ã€‚</p>
      <label><input type="radio" name="q5" value="slow"> ã¯ã„</label>
      <label><input type="radio" name="q5" value="fast"> ã„ã„ãˆ</label></div>
    <div class="question"><p>6. ãŠé…’ã‚’é£²ã‚“ã ç¿Œæ—¥ã€é›†ä¸­åŠ›ãŒè½ã¡ã‚‹ã€‚</p>
      <label><input type="radio" name="q6" value="slow"> ã¯ã„</label>
      <label><input type="radio" name="q6" value="fast"> ã„ã„ãˆ</label></div>
    <div class="question"><p>7. å‘¨ã‚Šã®ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ã«å¼•ã£å¼µã‚‰ã‚Œã‚„ã™ã„ã€‚</p>
      <label><input type="radio" name="q7" value="emo"> ã¯ã„</label>
      <label><input type="radio" name="q7" value="cool"> ã„ã„ãˆ</label></div>
    <div class="question"><p>8. æ–­ã‚‹ã‚ˆã‚Šã‚‚ã€Œå°‘ã—ã ã‘é£²ã‚‚ã†ã€ã¨æ€ã£ã¦ã—ã¾ã†ã€‚</p>
      <label><input type="radio" name="q8" value="emo"> ã¯ã„</label>
      <label><input type="radio" name="q8" value="cool"> ã„ã„ãˆ</label></div>
    <div class="question"><p>9. é£²ã¿ä¼šã§ã¯é™ã‹ã‚ˆã‚Šã‚‚ç››ã‚Šä¸ŠãŒã£ã¦ã„ãŸã„ã€‚</p>
      <label><input type="radio" name="q9" value="emo"> ã¯ã„</label>
      <label><input type="radio" name="q9" value="cool"> ã„ã„ãˆ</label></div>
    <div class="question"><p>10. ãŠé…’ã‚’é£²ã‚€ã¨æ°—åˆ†ãŒé«˜æšã—ã‚„ã™ã„ã€‚</p>
      <label><input type="radio" name="q10" value="emo"> ã¯ã„</label>
      <label><input type="radio" name="q10" value="cool"> ã„ã„ãˆ</label></div>
    <button type="button" onclick="showResult()">è¨ºæ–­ã™ã‚‹</button>
  </form>
</div>

<div class="result" id="result">
  <h2 id="typeName"></h2>
  <img id="typeImg" src="" alt="">
  <p class="desc" id="typeDesc"></p>
  <p class="stand-quote fade-in" id="standQuote"></p>
  <p id="doseResult" class="desc"></p>

  <div id="intakeInput" class="fade-in">
    <h3>ä»Šæ—¥ã®äºˆå®šã‚’å…¥åŠ›</h3>
    <label>é…’ã®ç¨®é¡ï¼š
      <select id="drinkType">
        <option value="beer">ğŸº ãƒ“ãƒ¼ãƒ«</option>
        <option value="chu">ğŸ¹ é…ãƒã‚¤</option>
        <option value="high">ğŸ¥ƒ ãƒã‚¤ãƒœãƒ¼ãƒ«</option>
        <option value="sake">ğŸ¶ æ—¥æœ¬é…’</option>
        <option value="whisky">ğŸŸ¤ ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼</option>
      </select>
    </label>
    <label>é‡ï¼ˆæ¯æ•°ï¼‰ï¼š
      <input type="number" id="drinkAmount" step="0.1" min="0" value="1"> æ¯
    </label>
    <button type="button" onclick="compareIntake()">åˆ¤å®šã™ã‚‹</button>
    <p id="intakeResult" class="desc"></p>
  </div>

  <button onclick="restart()">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
</div>

<script>
const alcoholTable={beer:20,chu:20,high:20,sake:22,whisky:19};

function showResult(){
  const answers=document.querySelectorAll('input[type=radio]:checked');
  if(answers.length<10){alert("ã™ã¹ã¦ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„");return;}
  let score={slow:0,fast:0,emo:0,cool:0};
  answers.forEach(a=>score[a.value]++);
  const axis1=score.slow>score.fast?"slow":"fast";
  const axis2=score.emo>score.cool?"emo":"cool";
  window.lastMood=axis2;

  // é£²é…’é‡è¨ˆç®—
  let base=axis1==="slow"?15:25;
  let adj=axis2==="emo"?0.8:1.0;
  const diff=Math.abs(score.slow-score.fast)+Math.abs(score.emo-score.cool);
  if(diff>=6)base*=0.9;
  const grams=Math.round(base*adj);
  window.lastDose={grams};

  const data={
    "slow-emo":{name:"ğŸ”¥Slow-Emoï¼ˆæ„Ÿæƒ…ã‚¸ã‚§ãƒƒãƒˆå‹ï¼‰",img:"img/slow-emo.png",desc:"æ„Ÿæƒ…ã®ã‚¹ã‚¤ãƒƒãƒãŒå…¥ã‚Šã‚„ã™ã„ã‚¿ã‚¤ãƒ—ã€‚",bg:"linear-gradient(135deg,#ff7043,#ffca28)",quote:"ã€ç‡ƒãˆã‚‹ç¬é–“ã¯ç¾ã—ã„ãŒã€ç‡ƒãˆå°½ãã‚‹ãªã‚ˆã€‚ã€"},
    "fast-cool":{name:"â„ï¸Fast-Coolï¼ˆç†æ€§ã‚¹ãƒ—ãƒªãƒ³ãƒˆå‹ï¼‰",img:"img/fast-cool.png",desc:"ä»£è¬ãŒé€Ÿãå†·é™ã•ã‚’ä¿ã¤ã‚¿ã‚¤ãƒ—ã€‚",bg:"linear-gradient(135deg,#1e3c72,#2a5298)",quote:"ã€æ°·ã®ã‚ˆã†ã«å†·é™ã§ã‚‚ã€æ²¹æ–­ã¯ã²ã³ã‚’å‘¼ã¶ã€‚ã€"},
    "fast-emo":{name:"âš¡Fast-Emoï¼ˆç¤¾äº¤ã‚¿ãƒ¼ãƒœå‹ï¼‰",img:"img/fast-emo.png",desc:"ãƒãƒªã®è‰¯ã•ã¨ç¬ç™ºåŠ›ãŒé­…åŠ›ã€‚",bg:"linear-gradient(135deg,#ff9800,#64b5f6)",quote:"ã€æ³¢ã¯ä¹—ã‚‹ã‚‚ã®ã€é£²ã¾ã‚Œã‚‹ã‚‚ã®ã˜ã‚ƒãªã„ï¼ã€"},
    "slow-cool":{name:"ğŸŒ¿Slow-Coolï¼ˆæ…é‡ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰å‹ï¼‰",img:"img/slow-cool.png",desc:"ç©ã‚„ã‹ã§å®‰å®šã—ãŸã‚¿ã‚¤ãƒ—ã€‚",bg:"linear-gradient(135deg,#81c784,#dcedc8)",quote:"ã€é¢¨ã«ä»»ã›ã¦ã„ã„ã€‚ãŸã ã—ã€æ ¹ã¯å¿˜ã‚Œã‚‹ãªã€‚ã€"}
  };
  const type=axis1+"-"+axis2;

  document.body.style.background=data[type].bg;
  document.getElementById("typeName").textContent=data[type].name;
  document.getElementById("typeImg").src=data[type].img;
  document.getElementById("typeDesc").textContent=data[type].desc;
  document.getElementById("standQuote").textContent=data[type].quote;

  const beer=(grams/20).toFixed(1),chu=(grams/20).toFixed(1),high=(grams/20).toFixed(1),sake=(grams/22).toFixed(1),whisky=(grams/19).toFixed(1);
  document.getElementById("doseResult").innerHTML=`æ¨å¥¨ï¼šç´”ã‚¢ãƒ«ã‚³ãƒ¼ãƒ« ${grams}gï¼æ—¥ ç¨‹åº¦<br>
  ğŸºãƒ“ãƒ¼ãƒ«:${beer}æœ¬ ğŸ¹é…ãƒã‚¤:${chu}ç¼¶ ğŸ¥ƒãƒã‚¤ãƒœãƒ¼ãƒ«:${high}æ¯<br>ğŸ¶æ—¥æœ¬é…’:${sake}åˆ ğŸŸ¤ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼:${whisky}æ¯`;

  document.getElementById("quiz").style.display="none";
  document.getElementById("result").style.display="block";
}

function compareIntake(){
  const type=document.getElementById("drinkType").value;
  const amount=parseFloat(document.getElementById("drinkAmount").value);
  const grams=alcoholTable[type]*amount;
  const safe=window.lastDose?window.lastDose.grams:20;
  const mood=window.lastMood||"cool";
  let msg="",color="";
  if(grams<=safe){
    msg=mood==="emo"?"ğŸ€ã„ã„ãƒªã‚ºãƒ ã€‚ä»Šæ—¥ã‚‚å¿ƒã®ç«åŠ æ¸›ã€å®Œç’§ã ã­ã€‚":"ğŸ€ç†æƒ³çš„ãªãƒãƒ©ãƒ³ã‚¹ã€‚ãƒ‡ãƒ¼ã‚¿çš„ã«ã‚‚å®‰å…¨åœã§ã™ã€‚";
    color="#2e7d32";
  }else if(grams<=safe*1.5){
    msg=mood==="emo"?"âš ï¸ãƒ†ãƒ³ã‚·ãƒ§ãƒ³é«˜ã‚ã€‚ã§ã‚‚ä»Šå¤œã¯æµã‚Œã‚’å°‘ã—ç·©ã‚ã‚ˆã†ã€‚":"âš ï¸æ¨å¥¨å€¤ã‚’å°‘ã—è¶…éã€‚æ¬¡ã®æ¯ã§ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ã‚’ã€‚";
    color="#f9a825";
  }else{
    msg=mood==="emo"?"ğŸš«ãã®å‹¢ã„ã€æ˜æ—¥ã«æ®‹ã‚‹ã‚ˆã€‚ç«ã‚’æ¶ˆã™å‹‡æ°—ã‚’ã€‚":"ğŸš«æ•°å€¤çš„ã«å±é™ºåŸŸã€‚ã“ã“ã§æ­¢ã‚ã‚‹åˆ¤æ–­ãŒç†æ€§çš„ã§ã™ã€‚";
    color="#c62828";
  }
  const out=document.getElementById("intakeResult");
  out.style.color=color;out.innerHTML=msg;
}

function restart(){
  document.body.style.background="#fafafa";
  document.getElementById("result").style.display="none";
  document.getElementById("quiz").style.display="block";
  document.querySelectorAll('input[type=radio]').forEach(el=>el.checked=false);
}
</script>

</body>
</html>
